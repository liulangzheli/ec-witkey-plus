<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>个人账号注册</title>
<link rel="shortcut icon" href="image/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" href="css/common.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/bootstrap.min.css" />


</head>
<body data-page="pRegister">
<div class="floor bdB bgE">
  <div class="floorZone txAR top"> <a href="login.html" title="" id="topUser">登录</a>|<a href="register.html" title=""id="topLog">注册</a>|<a href="javascript:void(0);" onclick="SetHome(this,'http://www.ztjzj.com');">设为首页</a>|<a href="javascript:void(0);" onclick="AddFavorite('我的网站',location.href)">收藏本站</a>|<a href="article.html">常见问题</a>|<a href="article.html">使用帮助</a> </div>
  <!--end floorZone--> 
  
</div>
<!--end floor-->

<div class="floor">
  <div class="floorZone searchZone">
    <div class="logo fl"><a href="#" title="造价威客网">造价威客</a></div>
    <!--end logo-->
    
    <div class="search fl">
      <div class="searchTab dd10 fl">
        <div class="active">项目</div>
        <div>服务商</div>
      </div>
      <!--end searchTab-->
      
      <div class=" dd10 fl">
        <input type="text" class="searchIpt" id ="searchText" placeholder="请输入..." /><a class="darkBlueBtn searchSbt" href="javascript:void(0)" onclick="transToSearchUrl()">搜索</a></div>
    </div>
    <!--end search-->
    
    <div class="user fl txAR">
      <div>联系客服</div>
      <div>公众号</div>
    </div>
    <!--end user--> 
    
  </div>
  <!--end floorZone--> 
  
</div>
<!--end floor-->

<div class="floor menuZone">
  <div class="floorZone ">
    <div class="menuLink"> <a href="index.html" class="active">首页</a> <a href="newProd.html">发布项目</a> <a href="findProd.html">找项目</a> <a href="findCompany.html">找企业/团队</a> <a href="findPerson.html">找个人</a> </div>
    <!--end menuLink--> 
    
    <a class="fr" href="newProd.html">免费发布需求</a> </div>
  <!--end menuLine--> 
  
</div>
<!--end menuZone-->

<div class="floor registerBox">
  <div class="floorZone pdTB">
    <div class="dd10 marA pdTB" style="float:none;">
      <!--end title-->
      
      <div class="content pdTB  marA r2">
        <h2 class="txAC marB pdTB bdB">个人注册</h2>
						<form id="formpersonal" method="post" class="form-horizontal" enctype="multipart/form-data" action="">
							<div class="form-group">
								<label class="col-sm-4 control-label" for="username"><b>*</b>账号</label>
								<div class="col-sm-5">
									<input type="text" class="form-control" id="username" name="user_id" placeholder="账号名" />
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-4 control-label" for="password"><b>*</b>密码</label>
								<div class="col-sm-5">
									<input type="password" class="form-control" id="password" name="pwd" placeholder="密码" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-4 control-label" for="confirm_password"><b>*</b>确认密码</label>
								<div class="col-sm-5">
									<input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="确认密码" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-4 control-label" for="tel"><b>*</b>联系电话</label>
								<div class="col-sm-5">
									<input type="tel" class="form-control" id="tel" name="tel" placeholder="手机号" />
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-4 control-label" for="email"><b>*</b>邮箱</label>
								<div class="col-sm-5">
									<input type="text" class="form-control" id="email" name="email" placeholder="" />
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-4 control-label" for="wechat">微信号</label>
								<div class="col-sm-5">
									<input type="text" class="form-control" id="wechat" name="wechat" placeholder="" />
								</div>
							</div>



							<div class="form-group">
								<label class="col-sm-4 control-label" for="birthday">生日</label>
								<div class="col-sm-5">
									<input type="date" class="form-control" id="birthday" name="birthday" placeholder="" />
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-4 control-label" for="constellation">星座</label>
								<div class="col-sm-5">
									<input type="text" class="form-control" id="constellation" name="constellation" placeholder="" />
								</div>
							</div>   
							<div class="form-group">
								<label class="col-sm-4 control-label" for="province1">所在地</label>
								<div class="col-sm-5">
                                    <div class="form-inline">
                                      <div id="distpicker" style="width:500px;">
                                        <div class="form-group" style="width:auto;margin:0;">
                                          <select class="form-control" id="province1" name="province">
                                          </select>
                                        </div>
                                        <div class="form-group" style="width:auto;margin:0;">
                                          <select class="form-control" id="city1" name="city">
                                          </select>
                                        </div>
                                        <div class="form-group" style="width:auto;margin:0;">
                                          <select class="form-control" id="district1" name="zone">
                                          </select>
                                        </div>
                                      </div>								
                                  </div>
								</div>  
                            </div>
							<div class="form-group">
								<label class="col-sm-4 control-label" for="teamname">团队名称</label>
								<div class="col-sm-5">
									<input type="text" class="form-control" id="teamname" name="team_name" placeholder="" />
								</div>
							</div>   
							<div class="form-group">
								<label class="col-sm-4 control-label" for="id_num"><b>*</b>身份证号</label>
								<div class="col-sm-5">
									<input type="text" class="form-control" id="id_num" name="id_num" placeholder="" />
								</div>
							</div>  
							<div class="form-group">
								<label class="col-sm-4 control-label" for="id_front"><b>*</b>身份证正面</label>
								<div class="col-sm-5">
									<input type="file" class="form-control" id="id_front" name="id_front" style="border:none;" accept="image/*"/>
								</div>
							</div>  
							<div class="form-group">
								<label class="col-sm-4 control-label" for="id_back"><b>*</b>身份证背面</label>
								<div class="col-sm-5">
									<input type="file"  class="form-control" id="id_back" name="id_back" style="border:none;" accept="image/*" />
								</div>
							</div>                                                                                                                                                                  
							<div class="form-group">
								<div class="col-sm-5 col-sm-offset-4">
									<div class="checkbox">
										<label>
											<input type="checkbox" id="agree1" name="agree" value="网站协议" />《网站协议》
										</label>
									</div>
								</div>
							</div>

							<div class="form-group">
								<div class="col-sm-9 col-sm-offset-4">
									<button type="submit" class="orangeButton dd2  marR" name="signup1" id="registersubmit"value="注册">注册</button>
                                    <a href="javascript:history.go(-1)" class="greyButton dd1  marL">&nbsp;返&nbsp;回&nbsp;</a>
								</div>
							</div>
						</form>
    
      </div><!--end content-->       
      
    </div>
  </div>
  <!--floorZone--> 
  
</div>
<!--end floor-->

<div class="floor footFloor pdTB">
  <div class="floorZone fcW pdTB">
    <div class="dd2 fl fLine">
      <div class="logo2">造价威客LOGO</div>
    </div>
    <div class="dd1 fl txAL">
    	<div class="line"></div>
        	<h2>关于我们</h2>
        	<ul>
                <li><a href="article.html">公司简介</a></li>
                <li><a href="article.html">平台公告</a></li>
                <li><a href="article.html">联系方式</a></li>
            </ul>
   </div>
   <div class="dd1 fl txAL">
   	<div class="line"></div>
        	<h2>交易保障</h2>
        	<ul>
                <li><a href="article.html">网站协议</a></li>
                <li><a href="article.html">支付方式</a></li>
                <li><a href="article.html">维权</a></li>
                <li><a href="article.html">意见反馈</a></li>
            </ul>
   </div>
    <div class="dd3 fl">
      <div class="line"></div>
      <h2>联系方式</h2>
      <p>地　　址：厦门市湖里区火炬高薪岐山北二路8899号23楼</p>
      <p>联系电话：0592-5138XXX　5138XXX</p>
      <p>传　　真：0592-5138XXX 　邮 　编：361011</p>
      <p>网　　址：www.ztjzj.com</p>
      <p>邮　　件：service@witkey.com</p>
    </div>
    <div class="dd3 fl txAR pdT"> <div class="chat">微信公众号</div> </div>
  </div>
  <!--end floorZone--> 
  
</div>
<!--end floor-->

<div class="floor footFloor txAC">
  <p><a href="index.html">首页</a>|<a href="article.html">公司介绍</a>|<a href="article.html">公司新闻</a>|<a href="article.html">联系我们</a>|<a href="register.html">注册</a></p>
</div>
<!--end footFloor-->

<div class="floor footFloor txAC">
  <p class="fc9">&copy;造价威客网 版权所有 闽ICP备19xxx001号    本网站中提供的信息仅用作信息参考</p>
</div>
<!--end footFloor-->
<script src="js/jquery.min.js"></script>
<script src="js/comm.js" type="text/javascript"></script>
<script src="js/login.js" type="text/javascript"></script>
<script src="js/effect.js" type="text/javascript"></script>
<script src="js/main.js"></script> 
<script src="js/distpicker.data.js"></script> 
<script src="js/distpicker.js"></script> 
<script type="text/javascript" src="js/jquery.validate.js"></script>
<script type="text/javascript">
		$.validator.setDefaults( {
			submitHandler: function () {
			   //var flag = validateFunction.FORM_validate();
				var flag=true;
			   var actionUrl='';
					var formdata = new FormData(document.querySelector("form"));
					formdata.append('pageid','personReg');
				if(	$('body').attr('data-page')=='pRegister'){
					// formdata.append("id_front", $('#idFront')[0].files[0]);
					// formdata.append("id_back",$('#idBack')[0].files[0]);
					actionUrl='sysUser/register/personal';
				}else{
					// formdata.append("licencePic", $('#licencePic')[0].files[0]);
					actionUrl='sysUser/register/company';
				}
				if (flag) {
					$(this).attr({"value":"提交中,请稍等"});
					$.ajax({
						type: "POST",
						url: basePath+actionUrl,
						processData:false,
						//contentType: false,
						//data: formdata,
						data:JSON.stringify($('form').serializeObject()),//不上传文件
						contentType:"application/json",  //缺失会出现URL编码，无法转成json对象
						success: function(result) {
							console.log(result)
							switch(result.retCode){
							case 100000:
								firstLogin();					
							break;
							}
			
						},
						error:function(text){
							console.log(text);
							alert("提交失败")
							$("#registersubmit").text("同意协议并注册");
						}
					});
				}
			}
		} );
			$( "#formpersonal" ).validate( {
				rules: {
					user_id: {
						required: true,
						minlength: 4,
						maxlength:50
					},
					pwd: {
						required: true,
						minlength: 6,
						maxlength:16
					},
					confirm_password: {
						required: true,
						minlength: 6,
						maxlength:16,
						equalTo: "#password"
					},
					tel:{
						required: true,
						minlength: 11,
						maxlength:11,
					},
					email: {
						required: true,
						email: true
					},
					id_num: {
						required: true,
						minlength: 15,
						maxlength:18,
					},
					id_front: "required",
					id_back: "required"
				},
				messages: {
					user_id: {
						required: "请输入用户名",
						minlength: "用户名最小长度为4个字符",
						maxlength:"用户名最大长度为50个字符",
					},
					pwd: {
						required: "请再次输入确认密码",
						minlength: "密码最小长度为6个字符",
						maxlength:"密码名最大长度为16个字符",
					},
					confirm_password: {
						required: "请再次输入确认密码",
						minlength: "密码最小长度为6个字符",
						equalTo: "两次密码不一致"
					},
					email: "请输入有效的邮箱地址",
					tel: {
						required:"请输入有效的手机号码",
						minlength:"手机号码为11位数字",
						maxlength:"手机号码为11位数字"
						},
					id_num: {
						required:"请输入身份证号",
						minlength:"最小长度为15位字符",
						maxlength:"最大长度为18位字符"
						},
					id_front:"请上传身份证正面",
					id_back:"请上传身份证背面",
					agree: "同意注册协议才可注册"
				},
				errorElement: "em",
				errorPlacement: function ( error, element ) {
					// Add the `help-block` class to the error element
					error.addClass( "help-block" );

					// Add `has-feedback` class to the parent div.form-group
					// in order to add icons to inputs
					element.parents( ".col-sm-5" ).addClass( "has-feedback" );

					if ( element.prop( "type" ) === "checkbox" ) {
						error.insertAfter( element.parent( "label" ) );
					} else {
						error.insertAfter( element );
					}

					// Add the span element, if doesn't exists, and apply the icon classes to it.
					if ( !element.next( "span" )[ 0 ] ) {
						$( "<span class='glyphicon glyphicon-remove form-control-feedback'></span>" ).insertAfter( element );
					}
				},
				success: function ( label, element ) {
					// Add the span element, if doesn't exists, and apply the icon classes to it.
					if ( !$( element ).next( "span" )[ 0 ] ) {
						$( "<span class='glyphicon glyphicon-ok form-control-feedback'></span>" ).insertAfter( $( element ) );
					}
				},
				highlight: function ( element, errorClass, validClass ) {
					$( element ).parents( ".col-sm-5" ).addClass( "has-error" ).removeClass( "has-success" );
					$( element ).next( "span" ).addClass( "glyphicon-remove" ).removeClass( "glyphicon-ok" );
				},
				unhighlight: function ( element, errorClass, validClass ) {
					$( element ).parents( ".col-sm-5" ).addClass( "has-success" ).removeClass( "has-error" );
					$( element ).next( "span" ).addClass( "glyphicon-ok" ).removeClass( "glyphicon-remove" );
				}
			} );

	</script> 
</body>
</html>
